--- 
GENERATOR: 
  PackageName: mupdf
  PackageDescription: "Package mupdf provides Go bindings."
  PackageLicense: "THE AUTOGENERATED LICENSE. ALL THE RIGHTS ARE RESERVED BY ROBOTS."
  Includes: [mupdf/pdf.h, mupdf/fitz.h]
  Options:
    SafeStrings: true

PARSER: 
  IncludePaths: [/usr/include, compat]
  SourcesPaths: [mupdf/pdf.h, mupdf/fitz.h]

TRANSLATOR: 
  PtrTips:
    function:
      # first two args considered pointers, add rules here to override
      - {target: ^fz_run_t3_glyph, tips: [ref,ref,0,0,ref,ref]}
      - {target: ^pdf_load_encoding, tips: [arr,0]}
      - {target: ^pdf_lookup_agl_duplicates, self: arr, tips: [0]}
      - {target: ^fz_, tips: [ref,ref]} 
      - {target: ^pdf_, tips: [ref,ref]}
  MemTips:
    - {target: ^fz_pixmap, self: bind}
    - {target: ^fz_, self: raw}
    - {target: ^pdf_, self: raw}
    - {target: ^FILE, self: raw}
  Rules: 
    global: 
      - {transform: lower}
      - {action: accept, from: "(?i)^fz_"}
      - {action: accept, from: "(?i)^pdf_"}
      - {action: accept, from: "^FILE"}
      - {transform: export}
    function:
      - {action: replace, from: "(?i)fz_font_flags", to: fz_font_flags}
      - {action: ignore, from: ^fz_run_t3_glyph}

      - {action: ignore, from: ^fz_append_printf} # variadic
      - {action: ignore, from: ^fz_asprintf}
      - {action: ignore, from: ^fz_snprintf}
      - {action: ignore, from: ^fz_write_printf}
      - {action: ignore, from: ^fz_throw}
      - {action: ignore, from: ^fz_warn}
      - {action: ignore, from: ^fz_vthrow}
      - {action: ignore, from: ^fz_vwarn}
      - {action: ignore, from: ^fz_write_vprintf}
      - {action: ignore, from: ^fz_vsnprintf}
      - {action: ignore, from: ^fz_append_vprintf}
      
      
      
      - {action: ignore, from: ^pdf_dict_getl}
      - {action: ignore, from: ^pdf_dict_putl}
      - {action: ignore, from: ^pdf_dict_putl_drop} # endof variadic

      - {action: ignore, from: ^fz_colorspace_devicen_n} # unimplemented (OS X)
      - {action: ignore, from: ^fz_open_file_w}
      - {action: ignore, from: ^pdf_access_submit_event}
      - {action: ignore, from: ^pdf_crypt_buffer}
      - {action: ignore, from: ^pdf_drop_designated_name}
      - {action: ignore, from: ^pdf_init_ui_pointer_event}
      - {action: ignore, from: ^pdf_open_compressed_stream}
      - {action: ignore, from: ^pdf_print_xref}
      - {action: ignore, from: ^pdf_read_pfx}
      - {action: ignore, from: ^pdf_recognize}
      - {action: ignore, from: ^pdf_resolve_obj}
      - {action: ignore, from: ^pdf_signer_designated_name} # endof unimplemented

      - {action: ignore, from: ^fz_tune_image_decode} # callbacks as params (bug in c-for-go)
      - {action: ignore, from: ^fz_tune_image_scale}
      - {action: ignore, from: ^fz_new_hash_table}
      - {action: ignore, from: ^fz_drop_hash_table}
      - {action: ignore, from: ^fz_hash_for_each}
      - {action: ignore, from: ^fz_new_output}
      - {action: ignore, from: ^fz_bidi_fragment_text}
      - {action: ignore, from: ^fz_drop_tree}
      - {action: ignore, from: ^fz_format_string}
      - {action: ignore, from: ^fz_new_stream}
      - {action: ignore, from: ^fz_find_item}
      - {action: ignore, from: ^fz_new_colorspace}
      - {action: ignore, from: ^fz_remove_item}
      - {action: ignore, from: ^fz_new_image_of_size}
      - {action: ignore, from: ^fz_filter_store}
      - {action: ignore, from: ^fz_process_shade}
      - {action: ignore, from: ^fz_install_load_system_font_funcs}
      - {action: ignore, from: ^fz_new_document_writer_of_size}
      - {action: ignore, from: ^fz_new_pixmap_writer}
      - {action: ignore, from: ^pdf_remove_item}
      - {action: ignore, from: ^pdf_clean_page_contents}
      - {action: ignore, from: ^pdf_clean_annot_contents}
      - {action: ignore, from: ^pdf_set_doc_event_callback}
      - {action: ignore, from: ^pdf_find_item} # end of callbacks
   
      - {action: ignore, from: ^fz_lookup_pixmap_converter} # bugged
      - {action: ignore, from: ^pdf_signature_widget_contents}
      - {action: ignore, from: ^pdf_signature_widget_byte_range} #end of bugged

    const:
      - {action: ignore, from: ^PDF_OBJ}
      - {action: replace, from: "(?i)PDF_LEXBUF_SMALL", to: PDF_LEXBUF_SMALL_SIZE}
      - {action: replace, from: "(?i)PDF_LEXBUF_LARGE", to: PDF_LEXBUF_LARGE_SIZE}
    type: 
      - {action: replace, from: "_t$"}
    private:
      - {transform: unexport}
    post-global: 
      - {action: replace, from: "(?i)pdf", to: PDF}
      - {action: replace, from: _$}
      - {load: snakecase}
